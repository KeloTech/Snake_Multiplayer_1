<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Snake Multiplayer</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <!-- Menu Overlay -->
  <div id="menu" class="menu">
    <div class="menu-content">
      <img src="assets/Krypto_snake_image.png" alt="Krypto Snake" class="menu-logo">
      <h1>Snake Multiplayer</h1>
      <p class="subtitle">Classic grid-based multiplayer snake</p>
      
      <div class="input-group">
        <label for="nickname">Nickname</label>
        <input type="text" id="nickname" maxlength="20" placeholder="Enter your name" value="Player">
      </div>
      
      <button id="joinBtn" class="btn-primary">Join Game</button>
      
      <div id="status" class="status"></div>
      
      <div class="controls-row">
        <div class="control-item">
          <span class="key-icons" aria-label="Arrow keys">â†‘ â†“ â† â†’</span>
          <span class="control-label">Movement</span>
        </div>
        <div class="control-item">
          <span class="key-key">Space</span>
          <span class="control-label">Weapon / Powerup</span>
        </div>
        <button type="button" id="infoBtn" class="info-btn" title="More info">i</button>
      </div>
      
      <div id="rulesModal" class="rules-modal hidden" aria-hidden="true">
        <div class="rules-backdrop" id="rulesBackdrop"></div>
        <div class="rules-content">
          <h3>Rules</h3>
          <p>Eat coins to grow. Avoid walls and other snakes. Donâ€™t hit yourself. Camera follows your snake.</p>
          <h4>Weapons</h4>
          <ul>
            <li><strong>Sword</strong> â€” Melee: cut nearby snakes (SPACE / click).</li>
            <li><strong>Gun</strong> â€” Shoots in facing direction, limited ammo.</li>
            <li><strong>Rocket</strong> â€” Explodes on impact, damages in an area, limited ammo.</li>
          </ul>
          <p class="rules-hint">Pick up weapons from the map; drop when you die.</p>
          <button type="button" id="rulesCloseBtn" class="rules-close">Close</button>
        </div>
      </div>
      
      <div class="server-config">
        <label for="serverUrl">Server URL</label>
        <input type="text" id="serverUrl" value="ws://localhost:3001" placeholder="ws://localhost:3001">
        <p class="server-hint">ğŸ’¡ Use <strong>ws://localhost:3001</strong> for local testing or <strong>https://snake-multiplayer-1.onrender.com/</strong> for production</p>
      </div>
    </div>
  </div>
  
  <!-- Game Canvas (focusable so arrow keys work after respawn / clicking back) -->
  <canvas id="gameCanvas" tabindex="0"></canvas>
  
  <!-- Scoreboard -->
  <div id="scoreboard" class="scoreboard hidden">
    <h3>Players</h3>
    <div id="scoreList"></div>
  </div>
  
  <!-- Back to Menu Button -->
  <button id="backToMenuBtn" class="back-to-menu-btn hidden">â† Back to Menu</button>
  
  <!-- Death Screen -->
  <div id="deathScreen" class="death-screen hidden">
    <div class="death-content">
      <h1 class="death-title">ğŸ’€ You Died!</h1>
      <div class="death-stats">
        <p class="death-stat">Score: <span id="deathScore">0</span></p>
        <p class="death-stat">Length: <span id="deathLength">0</span></p>
      </div>
      <button id="respawnBtn" class="btn-respawn">Respawn</button>
      <button id="quitBtn" class="btn-quit">Back to Menu</button>
    </div>
  </div>
  
  <!-- Scripts -->
  <script src="https://cdn.socket.io/4.6.0/socket.io.min.js"></script>
  <script src="main.js"></script>
</body>
</html>
